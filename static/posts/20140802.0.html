<html>
<head>
    <meta charset="utf-8">
    <title>阅读源代码的方法之讨论 - Lv Xiaoyu</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/blog.css">
</head>
<body>
<div class="container">
    <div class="blog-header">
        <h1 class="blog-title">Lv Xiaoyu</h1>
    </div>
    <hr/>
    <div class="blog-post-title">阅读源代码的方法之讨论</div>
    <div class="row col-xs-12 col-md-10 col-lg-8 col-sm-12 blog-main">
        <div class="blog-post">
            <p>阅读和学习源代码是程序员的必备功课，本文来研究一下这项工作有无一定之规。</p>
<p>我们学习和研究源代码按如下边所述步骤进行，自始至终，如果我们的脑子里一直萦绕着如下问题，相比效果会更好：</p>
<blockquote>
<p>这个项目为什么会存在？如果我来开发该项目，该怎么做？</p>
</blockquote>
<ol>
<li>
<p>了解这个项目的背景、动机、历史渊源等信息。这不仅有利于理解这个项目存在的意义， 还可以更深刻的理解它为什么会是现在这个样子。比如Emacs是怎么来的，XMPP是怎么来的、如何发展的，等等。 一般来说，了解这些信息从Google或维基百科开始。简单的Google一下，以及阅读一下项目相关的Wiki词条， 就能迅速了解一些概况，Google和维基百科也会提供了大量的链接和进一步阅读的文献资料，顺藤摸瓜的走下去， 会有更深入的理解。深入到什么程度，要看你自己的兴趣和时间了。</p>
</li>
<li>
<p>查看项目结构。首先看该项目的README文件，然后看它的目录结构。 项目顶级目录下的二级目录和文件、以及它们的命名，是重要的架构信息。优秀的项目，它的方法、类、文件、包等 代码元素的组织方式也必然是良好的，对这些代码元素的命名也必然是良好的。研究项目的目录结构和文件命名， 可以帮助我们迅速掌握该项目的开发者、架构师（如果多人开发的话）对于该项目的设计思想。</p>
</li>
<li>
<p>当你浏览了所有的二级目录和三级目录（如果有的话）之后，下一步就可以看项目中的头文件（'.h'）了。 从头文件里可以看到这个类/包的对外的接口。如果说项目的目录结构和命名体现了设计思想，那么头文件就体现了 这些设计思想如何落地，可以视为设计思想的子思想。</p>
</li>
<li>
<p>当你浏览了项目的目录结构以及头文件以后，终于轮到看具体的实现代码（.c、.cpp、.m）了。
 这些代码体现了设计思想的具体实现。如果我们在使用该项目的时候遇到问题、或者需要修改BUG，估计看的最多的就是 这些文件了。</p>
</li>
</ol>
<p>虽然具体的实现代码是项目的实质部分，但是如果不了解项目的背景、结构、设计思想等信息，就无从了解具体细节， 程序开发的老手会自发自觉的按照上述1、2、3、4这个顺序进行研究和学习。这些步骤可能会来回穿插、交替、迭代的循环进行。 而新手，则会跳过前三个步骤，直接进入第四步。 这就好像没有带着地图、GPS等工具，走在一个陌生的、没有路标的大城市里，最大的可能是：</p>
<blockquote>
<p>Lost yourself.</p>
</blockquote>
<p>新手之所以会如此做的原因，除了浮躁之外，还因为他们的实践太少，阅读项目、尤其是大型项目的源代码的量很小。 他们接触的项目，很可能是如下几类：</p>
<ol>
<li>只有几个文件的简单项目，小型网站或信息管理系统</li>
<li>基于“已经很高层的库”之上的二次开发、甚至三次开发的项目</li>
<li>虽然接触了大型项目，只是修改简单的BUG、添加功能等维护性工作</li>
</ol>
<p>这样的程序实践是不会有架构的概念的。相反，如果经常阅读大型项目的人，即便没有理论指导， 也会在实践中被迫、自发的摸索出一条类似于上述过程的工作方法的。</p>
        </div>
    </div>
</div>
<div class="footer">
</div>
<script src="static/js/jquery.min.js"></script>
<script src="static/js/bootstrap.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
<script src="http://coolshell.cn/wp-content/themes/inove/js/jquery.bpopup-0.8.0.min.js"></script>
 
<script type="text/javascript">
;(function($) {
    $(function() {
        var url=document.referrer;
        if ( url && url.search("http://")>-1) {
            var refurl =  url.match(/:\/\/(.[^/]+)/)[1];
            if(refurl.indexOf("baidu.com")>-1){
                $('#nobaidu_dlg').bPopup();
            }
        }
    });
 
})(jQuery);
</script>
 
<div id="nobaidu_dlg" style="background-color:#fff; border-radius:15px;color:#000;display:none;padding:20px;min-width:450px;min-height:180px;">
    <img src="http://coolshell.cn/wp-content/themes/inove/img/nobaidu.jpg" align="left">
     <p style="margin-left:200px;margin-top: 20px; line-height: 30px;">
     检测到你还在使用百度这个搜索引擎，<br/>
     做为一个程序员，这是一种自暴自弃！<br/>
     <br/>
     </p>
     <p align="center" style="margin-top:20px;">
     <b><a href="http://coolshell.cn/articles/7186.html">作环保的程序员，从不用百度开始！</a></b>
     </p>
</div>
</body>
</html>