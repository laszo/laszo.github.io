<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" /><title>Index | 学到老，活到老</title>
<meta name="author" content="吕晓宇">
<meta name="description" content="None">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta property="og:site_name" content=""/>

<link rel="stylesheet" href="/css/style.css" type="text/css" />
<link rel="stylesheet" href="/css/pygments.css" type="text/css" />
<!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<style>
#featured .flex-direction-nav a:hover, #video-slider-section .flex-direction-nav a:hover { background-color: #ffb600; }
#featured_section .active-slide .post-meta, #featured_section .switcher_hover .post-meta, .et_tab_link_hover .post-meta { background: #0099FF; }
h3.main-title { background-color: #0099FF; -moz-box-shadow: inset 0 0 10px #0099FF; -webkit-box-shadow: inset 0 0 10px #0099FF; box-shadow: inset 0 0 10px #0099FF; border: 1px solid #0099FF; }
a { color: #0099FF; }
.et_video_play { background-color: #0099FF; }
#second-menu > ul > li > a:hover { background-color: #0099FF; }
#second-menu ul ul li a:hover { background-color: #ffb122; }
#second-menu ul.nav li ul { background: #0099FF; }
#second-menu ul ul li a { border-top: 1px solid #0099FF; }
</style>

</head><body>
<div id="header" class="container"><div id="logo-area">
    <a href="/">
        <h1>学到老，活到老</h1>
        <p>上士闻道，勤而行之；中士闻道，若存若亡；下士闻道，大笑之</p>
    </a>
</div></div>
<div id="menu">
    <div class="container"><a href="/" class="mobile_nav closed">首页</a>
<a href="/archive" class="mobile_nav closed">文章列表</a>
<a href="/links/page" class="mobile_nav closed">收藏</a>
<a href="/about" class="mobile_nav closed">关于</a>

<nav id="second-menu" class="clearfix">
    <ul id="menu-categories" class="nav">
                        <li id="" class="menu-item"><a href="/" class="mobile_nav closed">首页</a></li>
                                <li id="" class="menu-item"><a href="/archive" class="mobile_nav closed">文章列表</a></li>
                                <li id="" class="menu-item"><a href="/links/page" class="mobile_nav closed">收藏</a></li>
                                <li id="" class="menu-item"><a href="/about" class="mobile_nav closed">关于</a></li>
                    </ul>
<form action="http://google.com/search" class="search-form" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:lvxiaoyu.com" />
    <input class="searchinput" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
</nav></div>
</div>
<div class="main-area">
    <div class="container">
        <div id="content-area" class="clearfix">
            
<div class="left-area">
        <article class="post type-post status-publish hentry category-people entry clearfix">
        <p class="meta-info">Posted  by 吕晓宇 on <a href="/blog/2014/08/04/man-hua-qianxu">Aug 04,2014</p>

            <div class="post_content clearfix">
                <h1 class="title"><a href="/blog/2014/08/04/man-hua-qianxu">漫话谦虚的几个层面</a></h1>
                <hr/>
                <p>大家都会谦虚，尤其是中国人，更是每天都在谦虚。到底什么叫做谦虚呢？</p>
<p>谦虚属于对自我的评价，可以看做人们对技能、财富、美貌、成就等有价值的东西的一种估值。我们平时的估值可以分为两种：</p>
<ol>
<li>
<p>相对指标：由两种相似的对象对比产生价值高低的印象。比如：哎呀，你家孩子比我家的聪明多了！</p>
</li>
<li>
<p>绝对指标：不仅仅是两种事物进行对比，而是放在一定范围内的全局中进行估量。比如：您家孩子的成绩估计在全校也是数一数二的吧。</p>
</li>
</ol>
<p>至少有如下几个层面：</p>
<ol>
<li>负谦虚，自我夸大其词。本来有三分能力，说成十分。</li>
<li>不谦虚。实事求是，有多少就说多少。</li>
<li>出于礼貌、文化习惯，顾忌场合、谈话对象等原因，对自己的能力进行比实际低的评价。</li>
<li>由于评价指标不一致而给别人造成谦虚的印象。</li>
</ol>
<p>上述几条，除了负谦虚之外，其他几条并无境界高低之分，视具体情况而定。</p>
                <a href="/blog/2014/08/04/man-hua-qianxu" class="more">阅读 &rarr;</a>
            </div>
        </article>
        <article class="post type-post status-publish hentry category-people entry clearfix">
        <p class="meta-info">Posted  by 吕晓宇 on <a href="/blog/2014/08/02/method-read-source-code">Aug 02,2014</p>

            <div class="post_content clearfix">
                <h1 class="title"><a href="/blog/2014/08/02/method-read-source-code">阅读源代码的方法之讨论</a></h1>
                <hr/>
                <p>阅读和学习源代码是程序员的必备功课，本文来研究一下这项工作有无一定之规。</p>
<p>我们学习和研究源代码按如下边所述步骤进行，自始至终，如果我们的脑子里一直萦绕着如下问题，相比效果会更好：</p>
<blockquote>
<p>这个项目为什么会存在？如果我来开发该项目，该怎么做？</p>
</blockquote>
<ol>
<li>
<p>了解这个项目的背景、动机、历史渊源等信息。这不仅有利于理解这个项目存在的意义， 还可以更深刻的理解它为什么会是现在这个样子。比如Emacs是怎么来的，XMPP是怎么来的、如何发展的，等等。 一般来说，了解这些信息从Google或维基百科开始。简单的Google一下，以及阅读一下项目相关的Wiki词条， 就能迅速了解一些概况，Google和维基百科也会提供了大量的链接和进一步阅读的文献资料，顺藤摸瓜的走下去， 会有更深入的理解。深入到什么程度，要看你自己的兴趣和时间了。</p>
</li>
<li>
<p>查看项目结构。首先看该项目的README文件，然后看它的目录结构。 项目顶级目录下的二级目录和文件、以及它们的命名，是重要的架构信息。优秀的项目，它的方法、类、文件、包等 代码元素的组织方式也必然是良好的，对这些代码元素的命名也必然是良好的。研究项目的目录结构和文件命名， 可以帮助我们迅速掌握该项目的开发者、架构师（如果多人开发的话）对于该项目的设计思想。</p>
</li>
<li>
<p>当你浏览了所有的二级目录和三级目录（如果有的话）之后，下一步就可以看项目中的头文件（'.h'）了。 从头文件里可以看到这个类/包的对外的接口。如果说项目的目录结构和命名体现了设计思想，那么头文件就体现了 这些设计思想如何落地，可以视为设计思想的子思想。</p>
</li>
<li>
<p>当你浏览了项目的目录结构以及头文件以后，终于轮到看具体的实现代码（.c、.cpp、.m）了。
 这些代码体现了设计思想的具体实现。如果我们在使用该项目的时候遇到问题、或者需要修改BUG，估计看的最多的就是 这些文件了。</p>
</li>
</ol>
<p>虽然具体的实现代码是项目的实质部分，但是如果不了解项目的背景、结构、设计思想等信息，就无从了解具体细节， 程序开发的老手会自发自觉的按照上述1、2、3、4这个顺序进行研究和学习。这些步骤可能会来回穿插、交替、迭代的循环进行。 而新手，则会跳过前三个步骤，直接进入第四步。 这就好像没有带着地图、GPS等工具，走在一个陌生的、没有路标的大城市里，最大的可能是：</p>
<blockquote>
<p>Lost yourself.</p>
</blockquote>
<p>新手之所以会如此做的原因，除了浮躁之外，还因为他们的实践太少，阅读项目、尤其是大型项目的源代码的量很小。 他们接触的项目，很可能是如下几类：</p>
<ol>
<li>只有几个文件的简单项目，小型网站或信息管理系统</li>
<li>基于“已经很高层的库”之上的二次开发、甚至三次开发的项目</li>
<li>虽然接触了大型项目，只是修改简单的BUG、添加功能等维护性工作</li>
</ol>
<p>这样的程序实践是不会有架构的概念的。相反，如果经常阅读大型项目的人，即便没有理论指导， 也会在实践中被迫、自发的摸索出一条类似于上述过程的工作方法的。</p>
                <a href="/blog/2014/08/02/method-read-source-code" class="more">阅读 &rarr;</a>
            </div>
        </article>
        <article class="post type-post status-publish hentry category-people entry clearfix">
        <p class="meta-info">Posted  by 吕晓宇 on <a href="/blog/2014/08/02/xmpp-intro-1">Aug 02,2014</p>

            <div class="post_content clearfix">
                <h1 class="title"><a href="/blog/2014/08/02/xmpp-intro-1">iOS下的XMPP开源库XMPPFramework介绍</a></h1>
                <hr/>
                <p>如果你想开发带有聊天功能的iOS APP，这个<a href="https://github.com/robbiehanson/XMPPFramework">XMPPFramework</a>
是肯定会遇到的一个库。本文将简略研究一下这个库的源代码。</p>
<p>首先下载这个库的源代码：</p>
<div class="codehilite"><pre><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="o">:</span><span class="c1">//github.com/robbiehanson/XMPPFramework.git</span>
</pre></div>


<p>或者下载源代码的<a href="https://github.com/robbiehanson/XMPPFramework/archive/master.zip">ZIP包</a>。
{tree}()是一个很有用的命令行工具，它能够以树形的方式展现指定目录的结构。
首先我们来查看项目的一级目录：</p>
<div class="codehilite"><pre><span class="n">tree</span> <span class="o">-</span><span class="n">L</span> <span class="mi">1</span>
</pre></div>


<p>得到输出：</p>
<div class="codehilite"><pre><span class="p">.</span>
<span class="err">├──</span> <span class="n">Authentication</span>
<span class="err">├──</span> <span class="n">Categories</span>
<span class="err">├──</span> <span class="n">Core</span>
<span class="err">├──</span> <span class="n">Extensions</span>
<span class="err">├──</span> <span class="n">README</span><span class="p">.</span><span class="n">markdown</span>
<span class="err">├──</span> <span class="n">Sample_XMPPFramework</span><span class="p">.</span><span class="n">h</span>
<span class="err">├──</span> <span class="n">Utilities</span>
<span class="err">├──</span> <span class="n">Vendor</span>
<span class="err">├──</span> <span class="n">Xcode</span>
<span class="err">└──</span> <span class="n">copying</span><span class="p">.</span><span class="n">txt</span>
</pre></div>


<p>顶级目录里共有10个目录和文件，其中3个文件，7个文件夹。三个文件分别是:</p>
<ol>
<li>README.markdown：介绍了该项目的内容，并给出链接，指向项目概览、安装方法等。其中项目概览是我们尤其应该仔细阅读的文件。</li>
<li>Sample_XMPPFramework.h：给出例子，说明头文件的引用请客</li>
<li>copying.txt：版权信息，该项目基于BSD Style License和BSD License。</li>
</ol>
<p>三个文件都很简单，接下来概览这7个文件夹，稍后逐一详细研究：</p>
<ol>
<li>Authentication：即便不看该目录的内容，顾名思义，也可以推测这里面包含用户身份验证、鉴权等相关类和方法。</li>
<li>Categories：category 是 Objective-C 的一种语言机制，允许我们通过给一个类添加方法来扩充这个类。这里面应该包含了对苹果官方库中某些类的扩展。</li>
<li>Core：这里面当然是最核心的项目类了，使我们要重点研究的。</li>
<li>Extensions：扩展有两层含义：a, Objective-C 的一种语言机制，类似于category；b，XMPP协议的扩展，一般称为XEP，<a href="http://xmpp.org/xmpp-protocols/xmpp-extensions/">XMPP Extensions</a>。这里的Extensions指的是后者。</li>
<li>Utilities：存放一些使用工具类。很多项目都会有这个文件夹。</li>
<li>Vendor：保存了该项目使用的第三方库</li>
<li>Xcode：里面有一些Demo项目和测试用例，举例说明该库的使用方法。</li>
</ol>
<p>接下来，可以有如下两个选择，先后顺序无所谓：</p>
<ol>
<li>浏览Xcode目录里面的项目，简单浏览Demo代码，编译运行一下，有一个直观的印象。</li>
<li>浏览Core目录，较深入的研究里面的目录结构和头文件。看看这里面的类对同级其他目录里的文件的引用情况，这样会对项目的架构层级产生概念。一般来说，其他目录里的文件都是为这里面的类服务的。</li>
</ol>
                <a href="/blog/2014/08/02/xmpp-intro-1" class="more">阅读 &rarr;</a>
            </div>
        </article>
        <article class="post type-post status-publish hentry category-people entry clearfix">
        <p class="meta-info">Posted  by 吕晓宇 on <a href="/blog/2014/07/29/ios7-init-check-user-login">Jul 29,2014</p>

            <div class="post_content clearfix">
                <h1 class="title"><a href="/blog/2014/07/29/ios7-init-check-user-login">iOS7中如何根据用户是否登录来决定是否启动Main.storyboard或登录界面</a></h1>
                <hr/>
                <p>从iOS7开始，在xcode中新建一个iOS项目，默认会建立一个Main.storyboard，在项目属性中，app的启动界面默认启动这个storyboard（在general-&gt;Main Interface选项）。这样通常是方便我们开发的。减少了大量在ViewController中切换的代码。</p>
<p>但是，如果我们要做一个带有用户系统的app，实现如下功能：</p>
<blockquote>
<p>app启动的时候判断用户是否已经登录，如果没有登录，显示『登录或注册界面』，如果已经登录，则显示主界面。</p>
</blockquote>
<p>我们需要在AppDelegate的application: didFinishLaunchingWithOptions: 方法中去实现：</p>
<div class="codehilite"><pre><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">didFinishLaunchingWithOptions:</span><span class="p">(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span>
<span class="p">{</span>
    <span class="n">self</span><span class="p">.</span><span class="n">window</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIWindow</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">initWithFrame</span><span class="o">:</span><span class="p">[[</span><span class="n">UIScreen</span> <span class="n">mainScreen</span><span class="p">]</span> <span class="n">bounds</span><span class="p">]];</span>
    <span class="k">if</span> <span class="p">([</span><span class="n">user</span> <span class="n">logined</span><span class="p">])</span> <span class="p">{</span>        
        <span class="n">UIStoryboard</span> <span class="o">*</span><span class="n">storyBoard</span><span class="o">=</span><span class="p">[</span><span class="n">UIStoryboard</span> <span class="n">storyboardWithName</span><span class="o">:</span><span class="s">@&quot;Main&quot;</span> <span class="n">bundle</span><span class="o">:</span><span class="nb">nil</span><span class="p">];</span>
        <span class="n">mainTabBarController</span> <span class="o">*</span><span class="n">mainVC</span> <span class="o">=</span> <span class="p">[</span><span class="n">storyBoard</span> <span class="n">instantiateInitialViewController</span><span class="p">];</span>                
        <span class="n">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">rootViewController</span> <span class="o">=</span> <span class="n">mainVC</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="n">LoginPage</span> <span class="o">*</span><span class="n">loginPage</span> <span class="o">=</span> <span class="p">[[</span><span class="n">LoginPage</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>        
        <span class="n">self</span><span class="p">.</span><span class="n">window</span><span class="p">.</span><span class="n">rootViewController</span> <span class="o">=</span> <span class="n">loginPage</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nb">YES</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>这也是在iOS6及其以前的版本中的默认做法。</p>
                <a href="/blog/2014/07/29/ios7-init-check-user-login" class="more">阅读 &rarr;</a>
            </div>
        </article>
        <article class="post type-post status-publish hentry category-people entry clearfix">
        <p class="meta-info">Posted  by 吕晓宇 on <a href="/blog/2014/07/25/ma-che-fu-de-bi-yu">Jul 25,2014</p>

            <div class="post_content clearfix">
                <h1 class="title"><a href="/blog/2014/07/25/ma-che-fu-de-bi-yu">心理学中著名的马车比喻</a></h1>
                <hr/>
                <p>毁三观是一个最近很流行的词，一般用在遇到了什么特别令人惊讶的事情，以至于颠覆了以前的世界观、人生观、价值观。</p>
<p>当然，这往往是一种夸张的说法。但是我在大三的时候的确遇到过这样的事情。在某一期的东吴相对论里面，主持人提到了一个著名的关于心灵与马车的比喻：</p>
<blockquote>
<p>柏拉图(Plato)的对话集《斐德诺》中有一个著名的比喻,他把灵魂比喻为一种协合的动力,好像同拉一辆车的两匹飞马和一个驭手,同时把人的灵魂划为三部分--御车人,驯良之马和顽劣之马.</p>
<p>弗洛伊德的三重人格理论似乎为我们的解读提供了线索:劣马代表的是人格系统中的本我,良马代表超我,御车人代表自我.</p>
</blockquote>
<p>参考文献：<a href="http://www.cqvip.com/QK/87730X/200701/1000123394.html">"灵魂马车"的隐喻与弗洛伊德的人格论</a>。</p>
<p>根据我的记忆，在主持人描述的比喻里，马车的主人应该有三个：马、马车夫、乘客。</p>
<p>当时初听到这段理论的时候，我真正是有毛骨悚然的感觉，心理观念极大颠覆。因为我以前从未关注过这方面的内容。</p>
                <a href="/blog/2014/07/25/ma-che-fu-de-bi-yu" class="more">阅读 &rarr;</a>
            </div>
        </article>
        <br/>
<ul class="paginate clearfix">
        <li><a href="/blog/page/5">prev</a></li>
    
                                    <li><a href="/">1</a></li>
                                            <li><a href="/blog/page/2">2</a></li>
                                            <li><a href="/blog/page/3">3</a></li>
                                            <li><a href="/blog/page/4">4</a></li>
                                            <li><a href="/blog/page/5">5</a></li>
                                                <li class="current">6</li>
                                            <li><a href="/blog/page/7">7</a></li>
                                            <li><a href="/blog/page/8">8</a></li>
                        <!-- <li><a href="#">prev</a></li> -->
            <li><a href="/blog/page/7">next</a></li>
        </ul></div>
        </div>
    </div>
</div>
<div id="footer">
    <div class="container clearfix" style="float:center;text-align:center;font-size:10pt;color:#000000;">
      <p id="copyright">
	<a href="http://www.miitbeian.gov.cn/" target="_blank">京ICP备14033542</a>
	 | &copy; 2014 吕晓宇 | Powered by 
	<a href="http://crotal.org" target="_blank">Crotal</a>
      </p>
    </div>
</div></body>
</html>